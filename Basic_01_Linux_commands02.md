# AI 项目的 Linux 命令基础 (下篇)(未完成)

## Linux下的文件操作命令

作为数据科学家或算法工程师，在Linux下最关心是文件操作指令，我们按照数据科学中的一些场景对非常高频使用的命令进行分类介绍：

### 下载数据

最常用命令是`wget`， 通常用法是：
```
 wget -c  -t 0  http://xxxx/data.csv
```
 其中，`-c`表示断点续传，`-t 0`表示无限重试。但这样下载速度只是单线程，我们可以安装其他更快的命令，比如`aria2c`或`axel`命令，都是默认支持断点续传，并且多线程下载的命令，但需要我们用`apt`进行安装。

### 文件操作

- 移动或重命名文件
使用`mv`命令：
```
mv file1 file2 dir  # 将file1和file2 移动到dir下
mv dir1 dir2 # 如果dir2不存在，则表示目录重命名
mv file1 file2 # file2存在时会覆盖file2；否则，会重命名file1为file2
```
- 删除文件或文件夹
Linux下的命令是`rm`，**特别注意大部分情况无法撤销`rm`的删除**。传说中的破坏力极大的命令：
```
rm -rf xxxx
```
上述表示强制删除xxx和xxx下的所有文件夹和子目录，生产环境里面**用不好就等于删库跑路**。
- 创建文件夹
命令是`mkdir`，生产中常用到：
```
mkdir -p dir1/dir2/dir3
```
参数`-p`的优点是，在`dir1`，`dir2`不存在时，命令可以直接创建这些目录，而不需要挨个创建。

### 数据（文件）的简单操作

- 完整显示

命令是`cat`，通过该命令能打印一个csv文件里的全部信息：
```
cat data.csv
```
同时，我们也可以用`cat`实现两个csv的拼接:
```
cat data1.csv data2.csv > data_all.csv
```
或者是csv数据的添加：
```
cat newdata.csv > data_all.csv
```

- 显示头尾内容

多数情况，我们不想显示的内容过长被刷屏。如果我们只想查看文件的头部信息，可以使用`head`。例如，我们想查看数据中前十条记录:
```
head -n 10 data.csv
```
也可以查看数据中最后十条记录：
```
tail -n 10 data.csv
```
> 熟悉Python或R的同学们，可能会觉得对这两条命令特别熟悉，因为pandas和R里都有`head`和`tail`函数，起到的作用也是一样。Python和R还有许许多多与Linux保持一致的细节（比如路径分隔符，注释），如果你只用或只熟悉Windows是很难了解这些内容的。

- 显示某列

Linux中还有一个`cut`命令，原本是用于文本分割。但如果灵活运用，可以用于筛选显示csv中第几列的数据。例如，用`cut`命令显示`data.csv`的第二列：
```
cut -d ',' -f 2 data.csv
```
这里灵活运用了csv的逗号分隔符。如果我们拿到一个数据csv文件，只是想简单看一下某列信息，就可以直接使用这条命令，避免再用Python或R，写相应的代码。

- 搜索关键词所在行

如果想查找`data.csv`中特定值在第几行，可以用：
```
grep -rn data.csv -e "keyword"
```
结果会返回`data.csv`含有`keyword`的每一行。上面的`data.csv`也可以换成通配符，比如`*.csv`,实现多文件的内容搜索。

> 我们可以使用更强大的文本处理命令`awk`来完成更多的文本处理操作。当然`awk`相对也更复杂一些，几乎可以看成是一个独立的编程语言。

- 统计数据
Linux中可以使用`wc`命令统计csv中的数据记录数：
```
wc -l data.csv
```
其中，`-l`表示统计的行数。我们可以发挥想象，结合管道符组合更多的命令，实现更复杂的统计逻辑。
> 🙋‍♂️如果想统计数据csv中，含有某关键词的数据记录数有多少，该怎么实现?

## 相关资源

- [命令行中的数据科学 (豆瓣)](https://book.douban.com/subject/26387975/)
- [鳥哥的 Linux 私房菜](http://linux.vbird.org/) 